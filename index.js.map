{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nexport {createGallery, clearGallery, showLoader, hideLoader };\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nconst lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n\nfunction createGallery(images) {\n    gallery.innerHTML = images.map(elem => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=${elem.largeImageURL}>\n                <img\n                    class=\"gallery-image\"\n                    src=\"${elem.webformatURL}\"\n                    alt=\"${elem.tags}\"\n                />\n                <ul class=\"card-info\">\n                    <li>likes:${elem.likes}</li>\n                    <li>views:${elem.views}</li>\n                    <li>comments:${elem.comments}</li>\n                    <li>downloads:${elem.downloads}</li>\n                </ul>\n            </a>\n        </li>\n    `).join(\"\");\n    lightbox.refresh();\n}\n    \nfunction clearGallery() {\n    gallery.innerHTML = '';\n    lightbox.refresh();\n}\n\nfunction showLoader() {\n    loader.classList.remove(\"hidden\");\n}\n\nfunction hideLoader() {\n    loader.classList.add(\"hidden\");\n}\n\n\n    ","import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nexport {getImagesByQuery};\n\nfunction getImagesByQuery(query) {\n    const searchParams = new URLSearchParams({\n        key: '50857133-3b0b39e0288c55ff632440828',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true'\n    });\n\n    return axios.get(`https://pixabay.com/api/?${searchParams}`)\n    \t.then(response => {\n\t\t    if(response.data.hits.length === 0) {\n                iziToast.error({\n                    title: 'error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                return null;\n            } else {\n                return response.data.hits;\n            }\n  \t    })\n  \t    .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: `message: ${error.message}`,\n            });\n            return null;\n  \t    })\n}","import {createGallery, clearGallery, showLoader, hideLoader} from './js/render-functions.js';\nimport {getImagesByQuery} from './js/pixabay-api.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport './css/styles.css';\n\nconst form = document.querySelector(\".form\");\nconst queryCatcher = form.elements[\"search-text\"];\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event){\n    event.preventDefault();\n    if(queryCatcher.value.trim() === \"\") {\n        iziToast.warning({\n            title: 'Warning',\n            message: 'empty query',\n        });\n        return;\n    } \n    const query = queryCatcher.value.trim();\n    clearGallery();\n    showLoader();\n    getImagesByQuery(query)\n    .then(images => { \n        if(images.length === 0) {\n            iziToast.error({\n                title: 'error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n        } else {\n            createGallery(images);\n        }\n    })\n    .catch(error => {     \n        iziToast.error({\n            title: 'Error',\n            message: 'failed to fetch images',\n        });\n    })\n    .finally(() => { hideLoader();});\n}"],"names":["gallery","loader","lightbox","SimpleLightbox","createGallery","images","elem","clearGallery","showLoader","hideLoader","getImagesByQuery","query","searchParams","axios","response","iziToast","error","form","queryCatcher","handleSubmit","event"],"mappings":"owBAIA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,aAAc,CACtC,aAAc,MACd,aAAc,GAC1B,CAAS,EAET,SAASC,EAAcC,EAAQ,CAC3BL,EAAQ,UAAYK,EAAO,IAAIC,GAAQ;AAAA;AAAA,2CAEAA,EAAK,aAAa;AAAA;AAAA;AAAA,2BAGlCA,EAAK,YAAY;AAAA,2BACjBA,EAAK,IAAI;AAAA;AAAA;AAAA,gCAGJA,EAAK,KAAK;AAAA,gCACVA,EAAK,KAAK;AAAA,mCACPA,EAAK,QAAQ;AAAA,oCACZA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,KAI7C,EAAE,KAAK,EAAE,EACVJ,EAAS,QAAO,CACpB,CAEA,SAASK,GAAe,CACpBP,EAAQ,UAAY,GACpBE,EAAS,QAAO,CACpB,CAEA,SAASM,GAAa,CAClBP,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEA,SAASQ,GAAa,CAClBR,EAAO,UAAU,IAAI,QAAQ,CACjC,CCtCA,SAASS,EAAiBC,EAAO,CAC7B,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,OAAOE,EAAM,IAAI,4BAA4BD,CAAY,EAAE,EACzD,KAAKE,GACFA,EAAS,KAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,EACM,MAEAD,EAAS,KAAK,IAE7B,EACA,MAAME,IACFD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,YAAYC,EAAM,OAAO,EAClD,CAAa,EACM,KACX,CACR,CC3BA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAeD,EAAK,SAAS,aAAa,EAEhDA,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAM,CAExB,GADAA,EAAM,eAAc,EACjBF,EAAa,MAAM,KAAI,IAAO,GAAI,CACjCH,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,aACrB,CAAS,EACD,MACH,CACD,MAAMJ,EAAQO,EAAa,MAAM,KAAI,EACrCX,IACAC,IACAE,EAAiBC,CAAK,EACrB,KAAKN,GAAU,CACTA,EAAO,SAAW,EACjBU,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACzB,CAAa,EAEDX,EAAcC,CAAM,CAEhC,CAAK,EACA,MAAMW,GAAS,CACZD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,wBACrB,CAAS,CACT,CAAK,EACA,QAAQ,IAAM,CAAEN,EAAY,CAAC,CAAC,CACnC"}